<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-instagram.subscriptions documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">clj-instagram</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-instagram</span></div></div></li><li class="depth-2 branch"><a href="clj-instagram.endpoints.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>endpoints</span></div></a></li><li class="depth-2 branch"><a href="clj-instagram.http-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-client</span></div></a></li><li class="depth-2 branch"><a href="clj-instagram.oauth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oauth</span></div></a></li><li class="depth-2 branch"><a href="clj-instagram.requests.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>requests</span></div></a></li><li class="depth-2 current"><a href="clj-instagram.subscriptions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>subscriptions</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-instagram.subscriptions.html#var-create"><div class="inner"><span>create</span></div></a></li><li class="depth-1"><a href="clj-instagram.subscriptions.html#var-delete"><div class="inner"><span>delete</span></div></a></li><li class="depth-1"><a href="clj-instagram.subscriptions.html#var-list"><div class="inner"><span>list</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-instagram.subscriptions</h1><div class="doc"><pre class="plaintext">Functions for creating, deleting and listing subscriptions.

User subscriptions are useful if you want to be notified when people who authenticated your app post new media on
Instagram. Subscriptions are not made on behalf of users but using client id and client secret. The implementation of
subscriptions leverages parts of the Pubsubhubub protocol.

More information about subscriptions available at <a href="https://www.instagram.com/developer/subscriptions/">https://www.instagram.com/developer/subscriptions/</a></pre></div><div class="public anchor" id="var-create"><h3>create</h3><div class="usage"><code>(create client-id client-secret object aspect verify-token callback-url)</code><code>(create client-id client-secret object aspect verify-token callback-url opts)</code></div><div class="doc"><pre class="plaintext">Create subscription to given aspect of the given object.

Simultaneously submits a GET request to the provided callback URL to verify its existence with the following
parameters:

* hub.mode         - this will be set to "subscribe"
* hub.challenge    - this will be set to a random string that your callback URL will need to echo back in order to
                     verify you'd like to subscribe
* hub.verify_token - this will be set to whatever verify token passed in with the subscription request,
                     it's helpful to use this to differentiate between multiple subscription requests

In order to verify the subscription, your server must respond to the GET request with the hub.challenge parameter
only.

When new data arrives, the given callback URL will receive a POST request with a payload containing the updates.

Parameters:
  client-id     - client id
  client-secret - client secret
  object        - the object to subscribe to (e.g. 'user')
  aspect        - the aspect of the object to subscribe to (e.g. 'media')
  verify-token  - verify token to use in the Pubsubhubub challenge flow
  callback-url  - callback URL (must support both GET and POST)
  opts          - map of clj-http options</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0-SNAPSHOT/src/clj_instagram/subscriptions.clj#L13">view source</a></div></div><div class="public anchor" id="var-delete"><h3>delete</h3><div class="usage"><code>(delete client-id client-secret object-or-id)</code><code>(delete client-id client-secret object-or-id opts)</code></div><div class="doc"><pre class="plaintext">Delete subscription either by object type or subscription ID. All subscriptions can be deleted by using value "all"
as an object type.

Parameters:
  client-id     - client id
  client-secret - client secret
  object        - object type or "all" (optional, either object type or id must be given)
  id            - subscription id (optional, either object type or id must be given)
  opts          - map of clj-http options</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0-SNAPSHOT/src/clj_instagram/subscriptions.clj#L56">view source</a></div></div><div class="public anchor" id="var-list"><h3>list</h3><div class="usage"><code>(list client-id client-secret)</code><code>(list client-id client-secret opts)</code></div><div class="doc"><pre class="plaintext">List current subscriptions.

Parameters:
  client-id     - client id
  client-secret - client secret
  opts          - map of clj-http options</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0-SNAPSHOT/src/clj_instagram/subscriptions.clj#L44">view source</a></div></div></div></body></html>