<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-instagram.requests documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">clj-instagram</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-instagram</span></div></div></li><li class="depth-2 branch"><a href="clj-instagram.endpoints.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>endpoints</span></div></a></li><li class="depth-2 branch"><a href="clj-instagram.http-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-client</span></div></a></li><li class="depth-2 branch"><a href="clj-instagram.oauth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oauth</span></div></a></li><li class="depth-2 branch current"><a href="clj-instagram.requests.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>requests</span></div></a></li><li class="depth-2"><a href="clj-instagram.subscriptions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>subscriptions</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-instagram.requests.html#var-authenticate"><div class="inner"><span>authenticate</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-create-comment"><div class="inner"><span>create-comment</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-create-subscription"><div class="inner"><span>create-subscription</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-delete-comment"><div class="inner"><span>delete-comment</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-delete-subscription"><div class="inner"><span>delete-subscription</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-comments"><div class="inner"><span>get-comments</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-followed-by"><div class="inner"><span>get-followed-by</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-follows"><div class="inner"><span>get-follows</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-liked-media"><div class="inner"><span>get-liked-media</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-likes"><div class="inner"><span>get-likes</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-location"><div class="inner"><span>get-location</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-media-by-id"><div class="inner"><span>get-media-by-id</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-media-by-shortcode"><div class="inner"><span>get-media-by-shortcode</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-recent-media-by-me"><div class="inner"><span>get-recent-media-by-me</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-recent-media-by-user"><div class="inner"><span>get-recent-media-by-user</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-recent-media-from-location"><div class="inner"><span>get-recent-media-from-location</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-recently-tagged-media"><div class="inner"><span>get-recently-tagged-media</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-relationship"><div class="inner"><span>get-relationship</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-requested-by"><div class="inner"><span>get-requested-by</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-tag"><div class="inner"><span>get-tag</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-get-user"><div class="inner"><span>get-user</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-list-subscriptions"><div class="inner"><span>list-subscriptions</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-modify-relationship"><div class="inner"><span>modify-relationship</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-remove-like"><div class="inner"><span>remove-like</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-request-access-token"><div class="inner"><span>request-access-token</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-search-locations"><div class="inner"><span>search-locations</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-search-media"><div class="inner"><span>search-media</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-search-tags"><div class="inner"><span>search-tags</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-search-users"><div class="inner"><span>search-users</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-set-like"><div class="inner"><span>set-like</span></div></a></li><li class="depth-1"><a href="clj-instagram.requests.html#var-sign"><div class="inner"><span>sign</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-instagram.requests</h1><div class="doc"><pre class="plaintext">Pure functions for creating and transforming request maps for accessing Instagram API.

Returned request maps are compatible with clj-http library (<a href="https://github.com/dakrone/clj-http)">https://github.com/dakrone/clj-http)</a> but should be usable
with any HTTP client library with minor modifications. The following keys/values are used:

  :method       - HTTP method; :get, :post or :delete
  :url          - URL (string)
  :query-params - map of query params with keyword keys
                  (optional, applicable for GET and DELETE requests)
  :form-params  - map of form params with keyword keys
                  (optional, applicable for POST requests)


For more details about the API refer to official documentation:

* Authentication: <a href="https://www.instagram.com/developer/authentication/">https://www.instagram.com/developer/authentication/</a>
* Endpoints: <a href="https://www.instagram.com/developer/endpoints/">https://www.instagram.com/developer/endpoints/</a>
* Subscriptions: <a href="https://www.instagram.com/developer/subscriptions/">https://www.instagram.com/developer/subscriptions/</a></pre></div><div class="public anchor" id="var-authenticate"><h3>authenticate</h3><div class="usage"><code>(authenticate req access-token)</code></div><div class="doc"><pre class="plaintext">Adds access token to the given request. Depending on the request method, access token is added either to query params
or form params.</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L394">view source</a></div></div><div class="public anchor" id="var-create-comment"><h3>create-comment</h3><div class="usage"><code>(create-comment media-id text)</code></div><div class="doc"><pre class="plaintext">Create a comment on a media object with the following rules:

* The total length of the comment cannot exceed 300 characters
* The comment cannot contain more than 4 hashtags
* The comment cannot contain more than 1 URL
* The comment cannot consist of all capital letters

Parameters:
  media-id - media id
  text     - comment text</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L203">view source</a></div></div><div class="public anchor" id="var-create-subscription"><h3>create-subscription</h3><div class="usage"><code>(create-subscription client-id client-secret object aspect verify-token callback-url)</code></div><div class="doc"><pre class="plaintext">Create subscription to given aspect of the given object.

Simultaneously submits a GET request to the provided callback URL to verify its existence with the following
parameters:

* hub.mode         - this will be set to "subscribe"
* hub.challenge    - this will be set to a random string that your callback URL will need to echo back in order to
                     verify you'd like to subscribe
* hub.verify_token - this will be set to whatever verify token passed in with the subscription request,
                     it's helpful to use this to differentiate between multiple subscription requests

In order to verify the subscription, your server must respond to the GET request with the hub.challenge parameter
only.

When new data arrives, the given callback URL will receive a POST request with a payload containing the updates.

Parameters:
  client-id     - client id
  client-secret - client secret
  object        - the object to subscribe to (e.g. 'user')
  aspect        - the aspect of the object to subscribe to (e.g. 'media')
  verify-token  - verify token to use in the Pubsubhubub challenge flow
  callback-url  - callback URL (must support both GET and POST)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L326">view source</a></div></div><div class="public anchor" id="var-delete-comment"><h3>delete-comment</h3><div class="usage"><code>(delete-comment media-id comment-id)</code></div><div class="doc"><pre class="plaintext">Remove a comment either on the authenticated user's media object or authored by the authenticated user.

Parameters:
  media-id   - media id
  comment-id - comment id</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L219">view source</a></div></div><div class="public anchor" id="var-delete-subscription"><h3>delete-subscription</h3><div class="usage"><code>(delete-subscription client-id client-secret {:keys [object id]})</code></div><div class="doc"><pre class="plaintext">Delete subscription either by object type or subscription ID. All subscriptions can be deleted by using value "all"
as an object type.

Parameters:
  client-id     - client id
  client-secret - client secret
  object        - object type or "all" (optional, either object type or id must be given)
  id            - subscription id (optional, either object type or id must be given)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L372">view source</a></div></div><div class="public anchor" id="var-get-comments"><h3>get-comments</h3><div class="usage"><code>(get-comments media-id)</code></div><div class="doc"><pre class="plaintext">Get a list of recent comments on a media object.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L197">view source</a></div></div><div class="public anchor" id="var-get-followed-by"><h3>get-followed-by</h3><div class="usage"><code>(get-followed-by)</code></div><div class="doc"><pre class="plaintext">Get the list of users this user is followed by.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L123">view source</a></div></div><div class="public anchor" id="var-get-follows"><h3>get-follows</h3><div class="usage"><code>(get-follows)</code></div><div class="doc"><pre class="plaintext">Get the list of users this user follows.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L117">view source</a></div></div><div class="public anchor" id="var-get-liked-media"><h3>get-liked-media</h3><div class="usage"><code>(get-liked-media)</code><code>(get-liked-media {:keys [count max-like-id]})</code></div><div class="doc"><pre class="plaintext">Get the list of recent media liked by the owner of the access token.

Parameters:
  count       - count of media to return (optional)
  max-like-id - return media liked before this id (optional)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L87">view source</a></div></div><div class="public anchor" id="var-get-likes"><h3>get-likes</h3><div class="usage"><code>(get-likes media-id)</code></div><div class="doc"><pre class="plaintext">Get a list of users who have liked this media.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L231">view source</a></div></div><div class="public anchor" id="var-get-location"><h3>get-location</h3><div class="usage"><code>(get-location location-id)</code></div><div class="doc"><pre class="plaintext">Get information about a location.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L286">view source</a></div></div><div class="public anchor" id="var-get-media-by-id"><h3>get-media-by-id</h3><div class="usage"><code>(get-media-by-id media-id)</code></div><div class="doc"><pre class="plaintext">Get information about a media object. Use the :type field to differentiate between image and video media in the
response. You will also receive the :user_has_liked field which tells you whether the owner of the access token has
liked this media.</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L162">view source</a></div></div><div class="public anchor" id="var-get-media-by-shortcode"><h3>get-media-by-shortcode</h3><div class="usage"><code>(get-media-by-shortcode shortcode)</code></div><div class="doc"><pre class="plaintext">Get information about a media object. Use the :type field to differentiate between image and video media in the
response. You will also receive the :user_has_liked field which tells you whether the owner of the access token has
liked this media. A media object's shortcode can be found in its shortlink URL. An example shortlink is
<a href="http://instagram.com/p/tsxp1hhQTG/">http://instagram.com/p/tsxp1hhQTG/</a>. Its corresponding shortcode is tsxp1hhQTG.</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L170">view source</a></div></div><div class="public anchor" id="var-get-recent-media-by-me"><h3>get-recent-media-by-me</h3><div class="usage"><code>(get-recent-media-by-me)</code><code>(get-recent-media-by-me {:keys [count min-id max-id], :as optional-params})</code></div><div class="doc"><pre class="plaintext">Get the most recent media published by the owner of the access token.

Parameters:
  count   - count of media to return (optional)
  min-id  - Return media later than this min id (optional)
  max-id  - Return media earlier than this max id (optional)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L75">view source</a></div></div><div class="public anchor" id="var-get-recent-media-by-user"><h3>get-recent-media-by-user</h3><div class="usage"><code>(get-recent-media-by-user user-id)</code><code>(get-recent-media-by-user user-id {:keys [count min-id max-id]})</code></div><div class="doc"><pre class="plaintext">Get the most recent media published by a user.

Parameters:
  user-id - user id
  count   - count of media to return (optional)
  min-id  - return media later than this min id (optional)
  max-id  - return media earlier than this max id (optional)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L58">view source</a></div></div><div class="public anchor" id="var-get-recent-media-from-location"><h3>get-recent-media-from-location</h3><div class="usage"><code>(get-recent-media-from-location location-id)</code><code>(get-recent-media-from-location location-id {:keys [min-id max-id]})</code></div><div class="doc"><pre class="plaintext">Get a list of recent media objects from a given location.

Parameters:
  location-id - location id
  min-id      - return media before this min id (optional)
  max-id      - return media after this max id (optional)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L292">view source</a></div></div><div class="public anchor" id="var-get-recently-tagged-media"><h3>get-recently-tagged-media</h3><div class="usage"><code>(get-recently-tagged-media tag)</code><code>(get-recently-tagged-media tag {:keys [count min-tag-id max-tag-id]})</code></div><div class="doc"><pre class="plaintext">Get a list of recently tagged media.

Parameters:
  tag        - tag name
  count      - count of tagged media to return (optional)
  min-tag-id - return media before this min tag id (optional)
  max-tag-id - return media after this max tag id (optional)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L257">view source</a></div></div><div class="public anchor" id="var-get-relationship"><h3>get-relationship</h3><div class="usage"><code>(get-relationship user-id)</code></div><div class="doc"><pre class="plaintext">Get information about a relationship to another user. Relationships are expressed using the following terms in the
response:

* outgoing_status: Your relationship to the user. Can be 'follows', 'requested', 'none'
* incoming_status: A user's relationship to you. Can be 'followed_by', 'requested_by', 'blocked_by_you', 'none'</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L135">view source</a></div></div><div class="public anchor" id="var-get-requested-by"><h3>get-requested-by</h3><div class="usage"><code>(get-requested-by)</code></div><div class="doc"><pre class="plaintext">List the users who have requested this user's permission to follow.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L129">view source</a></div></div><div class="public anchor" id="var-get-tag"><h3>get-tag</h3><div class="usage"><code>(get-tag tag)</code></div><div class="doc"><pre class="plaintext">Get information about a tag object.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L251">view source</a></div></div><div class="public anchor" id="var-get-user"><h3>get-user</h3><div class="usage"><code>(get-user)</code><code>(get-user user-id)</code></div><div class="doc"><pre class="plaintext">Get information about a user. If user id is omitted returns information about the owner of the access token.

Parameters:
  user-id - user id (default: owner of the access token)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L47">view source</a></div></div><div class="public anchor" id="var-list-subscriptions"><h3>list-subscriptions</h3><div class="usage"><code>(list-subscriptions client-id client-secret)</code></div><div class="doc"><pre class="plaintext">List current subscriptions.

Parameters:
  client-id     - client id
  client-secret - client secret</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L360">view source</a></div></div><div class="public anchor" id="var-modify-relationship"><h3>modify-relationship</h3><div class="usage"><code>(modify-relationship user-id action)</code></div><div class="doc"><pre class="plaintext">Modify the relationship between the current user and the target user. Relationships are expressed using the following
terms in the response:

* outgoing_status: Your relationship to the user. Can be 'follows', 'requested', 'none'
* incoming_status: A user's relationship to you. Can be 'followed_by', 'requested_by', 'blocked_by_you', 'none'

Parameters:
  user-id - user id
  action  - action to perform: :follow, :unfollow, :approve or :ignore</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L145">view source</a></div></div><div class="public anchor" id="var-remove-like"><h3>remove-like</h3><div class="usage"><code>(remove-like media-id)</code></div><div class="doc"><pre class="plaintext">Remove a like on this media by the currently authenticated user.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L243">view source</a></div></div><div class="public anchor" id="var-request-access-token"><h3>request-access-token</h3><div class="usage"><code>(request-access-token client-id client-secret redirect-uri code)</code></div><div class="doc"><pre class="plaintext">Exchange code received from Instagram for an access token.

Parameters:
  client-id     - client ID
  client-secret - client secret
  redirect-uri  - the redirect URI used in the authorization request
  code          - the exact code received during the authorization step</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L28">view source</a></div></div><div class="public anchor" id="var-search-locations"><h3>search-locations</h3><div class="usage"><code>(search-locations {:keys [facebook-places-id lat lng distance]})</code></div><div class="doc"><pre class="plaintext">Search for a location by geographic coordinate or Facebook Places ID.

Parameters:
  facebook-places-id - returns a location mapped off of a Facebook places id.
                       (optional, if used, lat and lng are not required)
  lat                - latitude of the center search coordinate (optional, if used, lng is required)
  lng                - longitude of the center search coordinate (optional, if used, lat is required)
  distance           - distance in meters (optional, default 1000, max 5000)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L307">view source</a></div></div><div class="public anchor" id="var-search-media"><h3>search-media</h3><div class="usage"><code>(search-media lat lng)</code><code>(search-media lat lng distance)</code></div><div class="doc"><pre class="plaintext">Search for recent media in a given area.

Parameters:
  lat      - latitude of the center search coordinate
  lng      - longitude of the center search coordinate
  distance - distance in meters (optional, default 1000, max 5000)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L179">view source</a></div></div><div class="public anchor" id="var-search-tags"><h3>search-tags</h3><div class="usage"><code>(search-tags q)</code></div><div class="doc"><pre class="plaintext">Search for tags by name.

Parameters:
  q - a valid tag name without a leading # (eg. snowy, nofilter)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L274">view source</a></div></div><div class="public anchor" id="var-search-users"><h3>search-users</h3><div class="usage"><code>(search-users q)</code><code>(search-users q count)</code></div><div class="doc"><pre class="plaintext">Get a list of users matching the query.

Parameters:
  q     - a query string
  count - number of users to return (optional)</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L101">view source</a></div></div><div class="public anchor" id="var-set-like"><h3>set-like</h3><div class="usage"><code>(set-like media-id)</code></div><div class="doc"><pre class="plaintext">Set a like on this media by the currently authenticated user.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L237">view source</a></div></div><div class="public anchor" id="var-sign"><h3>sign</h3><div class="usage"><code>(sign {:keys [url], :as req} client-secret)</code></div><div class="doc"><pre class="plaintext">Computes and adds signature to the request using given client secret.
</pre></div><div class="src-link"><a href="https://github.com/immoh/clj-instagram/blob/0.1.0/src/clj_instagram/requests.clj#L411">view source</a></div></div></div></body></html>